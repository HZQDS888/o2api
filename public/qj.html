<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>微软可视api号批量便捷取邮件工具：技术小黑：QQ：113575320</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义主题 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36BFFA',
            neutral: '#F5F7FA',
            dark: '#1D2129',
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .mail-item-hover {
        @apply transition-all duration-300 hover:bg-neutral hover:shadow-md;
      }
      .btn-primary {
        @apply bg-primary text-white px-4 py-2 rounded-lg transition-all duration-300 hover:bg-primary/90 hover:shadow-lg active:scale-95;
      }
      .btn-secondary {
        @apply bg-white text-primary border border-primary px-4 py-2 rounded-lg transition-all duration-300 hover:bg-primary/5 hover:shadow-md active:scale-95;
      }
      .copy-btn {
        @apply bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm transition-all duration-200 hover:bg-gray-200;
      }
      .btn-purchase {
        @apply bg-orange-500 text-white px-4 py-2 rounded-lg transition-all duration-300 hover:bg-orange-600 hover:shadow-lg active:scale-95;
      }
      .error-message {
        @apply text-red-500 text-sm mt-2;
      }
      .temp-copy-input {
        @apply absolute opacity-0 pointer-events-none;
      }
      .extra-info {
        @apply text-xs text-gray-500 bg-gray-50 p-2 rounded mt-2 break-all;
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-50 min-h-screen flex flex-col">
  <!-- 顶部导航 -->
  <header class="bg-white shadow-sm py-4 px-6 md:px-12">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fa fa-envelope-o text-primary text-2xl"></i>
        <h1 class="text-xl md:text-2xl font-bold text-dark">微软可视api号批量便捷取邮件工具：技术小黑：QQ：113575320</h1>
      </div>
      <div class="text-sm text-gray-500">
        <span id="file-info" class="hidden">未选择文件</span>
      </div>
    </div>
  </header>

  <!-- 主要内容区 -->
  <main class="flex-grow container mx-auto px-4 py-8 md:px-8 md:py-12">
    <!-- 导入区域 -->
    <section class="mb-10 bg-white rounded-xl shadow-sm p-6 md:p-8">
      <h2 class="text-lg md:text-xl font-semibold mb-4 flex items-center">
        <i class="fa fa-upload text-primary mr-2"></i>导入邮箱文件
      </h2>
      <p class="text-gray-500 mb-6">请导入TXT文件，格式要求：每行一个条目，格式为【邮箱地址----密码----API链接----[额外标识1]----[额外标识2]...】（支持多段额外标识）</p>
      
      <!-- 格式示例说明 -->
      <div class="bg-neutral p-3 rounded-lg mb-6 text-sm">
        <p class="text-gray-600 font-medium mb-1">格式示例：</p>
        <p class="text-gray-500">example@outlook.com----password123----https://api.example.com/mail----标识1----长字符串标识...</p>
      </div>
      
      <div class="flex flex-col sm:flex-row gap-4">
        <label for="file-upload" class="btn-primary flex items-center justify-center cursor-pointer">
          <i class="fa fa-file-text-o mr-2"></i>选择TXT文件
        </label>
        <input id="file-upload" type="file" accept=".txt" class="hidden" />
        
        <button id="clear-btn" class="btn-secondary flex items-center justify-center">
          <i class="fa fa-trash-o mr-2"></i>清空列表
        </button>
        
        <a href="https://www.qianxun1688.com/links/1CDFE3FC" target="_blank" class="btn-purchase flex items-center justify-center">
          <i class="fa fa-shopping-cart mr-2"></i>购买长效邮箱
        </a>
      </div>
      
      <!-- 错误信息显示区域 -->
      <div id="error-container" class="hidden error-message"></div>
      <div id="upload-status" class="mt-4 hidden"></div>
    </section>
    
    <!-- 邮箱列表区域 -->
    <section class="bg-white rounded-xl shadow-sm p-6 md:p-8">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-lg md:text-xl font-semibold flex items-center">
          <i class="fa fa-list-alt text-primary mr-2"></i>邮箱列表
        </h2>
        <span id="email-count" class="text-sm bg-neutral px-3 py-1 rounded-full text-gray-600">0 个邮箱</span>
      </div>
      
      <div id="email-list" class="space-y-3 max-h-[600px] overflow-y-auto pr-2">
        <!-- 邮箱列表将在这里动态生成 -->
        <div class="text-center text-gray-500 py-12">
          <i class="fa fa-envelope-open-o text-4xl mb-4 opacity-30"></i>
          <p>请导入符合格式的TXT文件</p>
          <p class="text-xs mt-2 text-gray-400">格式示例：邮箱地址----密码----API链接----[额外标识1]----[额外标识2]...</p>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="bg-white border-t border-gray-200 py-4 px-6">
    <div class="container mx-auto text-center text-sm text-gray-500">
      <p>本微软可视api号批量便捷取邮件工具由技术小黑提供：QQ：113575320 &copy; 2025</p>
    </div>
  </footer>

  <!-- 用于复制的临时输入框 -->
  <input type="text" id="temp-copy-input" class="temp-copy-input" />
  
  <!-- 通知提示组件 -->
  <div id="toast" class="fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 flex items-center"></div>

  <script>
    // DOM元素
    const fileUpload = document.getElementById('file-upload');
    const clearBtn = document.getElementById('clear-btn');
    const emailList = document.getElementById('email-list');
    const emailCount = document.getElementById('email-count');
    const fileInfo = document.getElementById('file-info');
    const uploadStatus = document.getElementById('upload-status');
    const toast = document.getElementById('toast');
    const errorContainer = document.getElementById('error-container');
    const tempCopyInput = document.getElementById('temp-copy-input');
    
    // 邮箱服务商域名映射表
    const emailProviders = {
      'gmail.com': 'https://mail.google.com',
      'outlook.com': 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope=service%3A%3Aaccount.microsoft.com%3A%3AMBI_SSL+openid+profile+offline_access&response_type=code&client_id=81feaced-5ddd-41e7-8bef-3e20a2689bb7&redirect_uri=https%3A%2F%2Faccount.microsoft.com%2Fauth%2Fcomplete-signin-oauth&client-request-id=7b51c933-c267-4b7b-a954-72192bef7a52&x-client-SKU=MSAL.Desktop&x-client-Ver=4.66.1.0&x-client-OS=Windows+Server+2019+Datacenter&prompt=login&client_info=1&state=H4sIAAAAAAAEAA3LyYJDMAAA0H_p1YEa62EO9iLGaKjl1hStCGqJ4utn3v2d_H5XFz-xv4zsheK2r4is-mS9cIOiKMJrNaLm8HCOkz7-7EgeR0cB-IY8ZuEfWvZDu9Rwq04Ts56NtOcBmGeltxk5H3MlI-i1XUGKS-RetnEyxl9NiogH3kE-inlS4K3Q0ylkbKXtj6kcTCA4s2WxC5fecdn51OMYOi0ksJt0h-wiqEUX15Cbt6D7Dyg5ip5XtfvNkdfYX4hOro90q22KuHnuVhdwUvoJI6r3lmlmQpnSA8YNtF7eTCKFkaa82Pi7h1Ym9qFfWniXirEedz7M5s-m1vRrAgfKkwcL3EjjPwNXQwzmKxZDnTpnxDFEGHHarLDd6PnIift8x0IZTUAcmqspwVWWUOOQ4NYMVAi-T3_3_3fdbgEAAA&msaoauth2=true&lc=2052',
      'hotmail.com': 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope=service%3A%3Aaccount.microsoft.com%3A%3AMBI_SSL+openid+profile+offline_access&response_type=code&client_id=81feaced-5ddd-41e7-8bef-3e20a2689bb7&redirect_uri=https%3A%2F%2Faccount.microsoft.com%2Fauth%2Fcomplete-signin-oauth&client-request-id=7b51c933-c267-4b7b-a954-72192bef7a52&x-client-SKU=MSAL.Desktop&x-client-Ver=4.66.1.0&x-client-OS=Windows+Server+2019+Datacenter&prompt=login&client_info=1&state=H4sIAAAAAAAEAA3LyYJDMAAA0H_p1YEa62EO9iLGaKjl1hStCGqJ4utn3v2d_H5XFz-xv4zsheK2r4is-mS9cIOiKMJrNaLm8HCOkz7-7EgeR0cB-IY8ZuEfWvZDu9Rwq04Ts56NtOcBmGeltxk5H3MlI-i1XUGKS-RetnEyxl9NiogH3kE-inlS4K3Q0ylkbKXtj6kcTCA4s2WxC5fecdn51OMYOi0ksJt0h-wiqEUX15Cbt6D7Dyg5ip5XtfvNkdfYX4hOro90q22KuHnuVhdwUvoJI6r3lmlmQpnSA8YNtF7eTCKFkaa82Pi7h1Ym9qFfWniXirEedz7M5s-m1vRrAgfKkwcL3EjjPwNXQwzmKxZDnTpnxDFEGHHarLDd6PnIift8x0IZTUAcmqspwVWWUOOQ4NYMVAi-T3_3_3fdbgEAAA&msaoauth2=true&lc=2052',
      'yahoo.com': 'https://mail.yahoo.com',
      'qq.com': 'https://mail.qq.com',
      '163.com': 'https://mail.163.com',
      '126.com': 'https://mail.126.com',
      'sina.com': 'https://mail.sina.com.cn',
      'sohu.com': 'https://mail.sohu.com',
      '139.com': 'https://mail.10086.cn',
      'yeah.net': 'https://www.yeah.net',
      'foxmail.com': 'https://mail.qq.com'
    };
    
    // 显示通知提示
    function showToast(message, isError = false) {
      toast.textContent = message;
      toast.className = `fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg transform translate-y-0 opacity-100 transition-all duration-300 flex items-center ${
        isError ? 'bg-red-50 text-red-600' : 'bg-green-50 text-green-600'
      }`;
      
      setTimeout(() => {
        toast.className = 'fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 flex items-center';
      }, 3000);
    }
    
    // 显示错误信息
    function showError(message) {
      errorContainer.textContent = message;
      errorContainer.classList.remove('hidden');
      
      setTimeout(() => {
        errorContainer.classList.add('hidden');
      }, 5000);
    }
    
    // 清除错误信息
    function clearError() {
      errorContainer.classList.add('hidden');
    }
    
    // 解析邮箱并获取对应的邮件链接
    function getEmailUrl(email) {
      try {
        const domain = email.split('@')[1];
        return emailProviders[domain] || `https://${domain}`;
      } catch (error) {
        console.error('解析邮箱链接失败:', error);
        return '#';
      }
    }
    
    // 验证邮箱格式
    function isValidEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }
    
    // 解析单行内容（支持多段额外标识：邮箱----密码----链接----[额外标识1]----[额外标识2]...）
    function parseEmailLine(line, lineNumber) {
      try {
        const trimmedLine = line.trim();
        if (!trimmedLine) {
          return {
            lineNumber,
            originalLine: line,
            isValid: false,
            error: '空行'
          };
        }
        
        const parts = trimmedLine.split('----')
          .map(part => part.trim())
          .filter(part => part);
        
        // 核心信息至少需要3段（邮箱、密码、链接）
        if (parts.length < 3) {
          return {
            lineNumber,
            originalLine: line,
            isValid: false,
            error: `格式错误，至少需要3个部分（邮箱----密码----链接），实际得到${parts.length}个部分`
          };
        }
        
        const email = parts[0];
        const password = parts[1];
        const apiUrl = parts[2];
        // 收集所有额外标识（从第4段开始）
        const extraInfo = parts.slice(3);
        
        if (!isValidEmail(email)) {
          return {
            lineNumber,
            originalLine: line,
            isValid: false,
            error: '邮箱格式不正确'
          };
        }
        
        if (!password) {
          return {
            lineNumber,
            originalLine: line,
            isValid: false,
            error: '密码不能为空'
          };
        }
        
        if (!apiUrl || !apiUrl.startsWith('http')) {
          return {
            lineNumber,
            originalLine: line,
            isValid: false,
            error: 'API链接格式不正确'
          };
        }
        
        return {
          lineNumber,
          email,
          password,
          apiUrl,
          extraInfo, // 存储所有额外标识
          isValid: true
        };
      } catch (error) {
        console.error(`解析行 ${lineNumber} 失败:`, error);
        return {
          lineNumber,
          originalLine: line,
          isValid: false,
          error: '解析过程中发生错误'
        };
      }
    }
    
    // 复制到剪贴板
    function copyToClipboard(text, successMessage) {
      if (navigator.clipboard) {
        return navigator.clipboard.writeText(text)
          .then(() => {
            showToast(successMessage);
            return true;
          })
          .catch(err => {
            console.warn('Clipboard API 失败，尝试降级方案:', err);
            return fallbackCopy(text, successMessage);
          });
      }
      return fallbackCopy(text, successMessage);
    }
    
    // 复制降级方案
    function fallbackCopy(text, successMessage) {
      try {
        tempCopyInput.value = text;
        tempCopyInput.select();
        tempCopyInput.setSelectionRange(0, text.length);
        
        const successful = document.execCommand('copy');
        if (successful) {
          showToast(successMessage);
          return true;
        } else {
          throw new Error('execCommand 复制失败');
        }
      } catch (err) {
        console.error('所有复制方案均失败:', err);
        showToast(`复制失败，请手动复制: ${text}`, true);
        return false;
      } finally {
        window.getSelection().removeAllRanges();
      }
    }
    
    // 渲染邮箱列表（显示额外标识）
    function renderEmailList(emailItems) {
      try {
        emailList.innerHTML = '';
        
        if (emailItems.length === 0) {
          emailList.innerHTML = `
            <div class="text-center text-gray-500 py-12">
              <i class="fa fa-envelope-open-o text-4xl mb-4 opacity-30"></i>
              <p>请导入符合格式的TXT文件</p>
              <p class="text-xs mt-2 text-gray-400">格式示例：邮箱地址----密码----API链接----[额外标识1]----[额外标识2]...</p>
            </div>
          `;
          emailCount.textContent = '0 个邮箱';
          return;
        }
        
        emailCount.textContent = `${emailItems.length} 个邮箱`;
        
        emailItems.forEach(item => {
          const emailUrl = getEmailUrl(item.email);
          const domain = item.email.split('@')[1] || '';
          
          const emailItem = document.createElement('div');
          emailItem.className = 'flex flex-col p-4 border border-gray-100 rounded-lg mail-item-hover';
          
          // 构建额外标识HTML
          let extraInfoHtml = '';
          if (item.extraInfo && item.extraInfo.length > 0) {
            item.extraInfo.forEach((info, index) => {
              extraInfoHtml += `
                <div class="extra-info">
                  <span class="font-medium text-gray-600">额外标识 ${index + 1}：</span>
                  <span>${info}</span>
                  <button class="copy-btn ml-2" data-extra="${info}">
                    <i class="fa fa-copy"></i> 复制
                  </button>
                </div>
              `;
            });
          }
          
          emailItem.innerHTML = `
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-3">
              <div class="flex items-center">
                <div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-3">
                  <i class="fa fa-envelope-o"></i>
                </div>
                <div class="flex items-center">
                  <p class="text-dark font-medium break-all">${item.email}</p>
                  <button class="copy-btn ml-2" data-email="${item.email}">
                    <i class="fa fa-copy"></i> 复制邮箱
                  </button>
                </div>
              </div>
              
              <div class="flex gap-2 self-end sm:self-auto">
                <button class="login-btn btn-secondary text-sm flex items-center" 
                        data-email="${item.email}" 
                        data-login-url="${emailUrl}">
                  <i class="fa fa-external-link mr-1"></i> 手动邮箱登录
                </button>
                <a href="${item.apiUrl}" target="_blank" class="btn-secondary text-sm flex items-center">
                  <i class="fa fa-link mr-1"></i> 获取当前API邮件
                </a>
              </div>
            </div>
            
            <div class="flex items-center justify-between pt-3 border-t border-gray-100">
              <div class="flex items-center">
                <span class="text-sm text-gray-500 mr-2">密码：</span>
                <span class="text-sm font-mono bg-gray-100 px-2 py-1 rounded truncate max-w-[200px]">${item.password}</span>
                <button class="copy-btn ml-2" data-password="${item.password}">
                  <i class="fa fa-copy"></i> 复制
                </button>
              </div>
            </div>
            
            <!-- 额外标识区域 -->
            ${extraInfoHtml}
          `;
          
          emailList.appendChild(emailItem);
        });
        
        // 绑定复制事件
        document.querySelectorAll('.copy-btn[data-password]').forEach(btn => {
          btn.addEventListener('click', function() {
            const password = this.getAttribute('data-password');
            copyToClipboard(password, '密码已复制');
          });
        });
        
        document.querySelectorAll('.copy-btn[data-email]').forEach(btn => {
          btn.addEventListener('click', function() {
            const email = this.getAttribute('data-email');
            copyToClipboard(email, '邮箱已复制');
          });
        });
        
        // 额外标识复制功能
        document.querySelectorAll('.copy-btn[data-extra]').forEach(btn => {
          btn.addEventListener('click', function() {
            const extraInfo = this.getAttribute('data-extra');
            copyToClipboard(extraInfo, '额外标识已复制');
          });
        });
        
        // 登录按钮功能
        document.querySelectorAll('.login-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const email = this.getAttribute('data-email');
            const loginUrl = this.getAttribute('data-login-url');
            
            copyToClipboard(email, `邮箱已复制，即将跳转到登录页面`).then(success => {
              if (success) {
                setTimeout(() => {
                  window.open(loginUrl, '_blank');
                }, 800);
              } else {
                window.open(loginUrl, '_blank');
              }
            });
          });
        });
        
      } catch (error) {
        console.error('渲染邮箱列表失败:', error);
        showToast('显示邮箱列表时发生错误', true);
      }
    }
    
    // 处理文件上传
    fileUpload.addEventListener('change', (e) => {
      try {
        clearError();
        const files = e.target.files;
        if (!files || files.length === 0) {
          showError('未选择任何文件');
          return;
        }
        
        const file = files[0];
        
        if (!file.name.endsWith('.txt')) {
          showError('请上传TXT格式的文件');
          fileUpload.value = '';
          return;
        }
        
        if (file.size > 10 * 1024 * 1024) {
          showError('文件过大，请上传10MB以内的TXT文件');
          fileUpload.value = '';
          return;
        }
        
        fileInfo.textContent = `已选择: ${file.name} (${(file.size / 1024).toFixed(1)}KB)`;
        fileInfo.classList.remove('hidden');
        
        const reader = new FileReader();
        
        reader.onloadstart = () => {
          uploadStatus.textContent = '正在解析文件...';
          uploadStatus.className = 'mt-4 text-blue-500';
          uploadStatus.classList.remove('hidden');
        };
        
        reader.onload = (event) => {
          try {
            const content = event.target.result;
            const lines = content.split(/\r\n|\r|\n/);
            
            if (lines.length === 0) {
              uploadStatus.textContent = '文件内容为空';
              uploadStatus.className = 'mt-4 text-yellow-500';
              showToast('文件内容为空', true);
              return;
            }
            
            const validItems = [];
            const invalidLines = [];
            
            lines.forEach((line, index) => {
              const lineNumber = index + 1;
              const result = parseEmailLine(line, lineNumber);
              
              if (result.isValid) {
                validItems.push(result);
              } else {
                invalidLines.push({
                  lineNumber,
                  error: result.error,
                  content: line
                });
              }
            });
            
            renderEmailList(validItems);
            
            let statusText = `成功解析 ${validItems.length} 个有效条目`;
            
            if (invalidLines.length > 0) {
              statusText += `，发现 ${invalidLines.length} 个无效行`;
              
              let errorDetails = '错误示例: ';
              const displayErrors = invalidLines.slice(0, 3);
              displayErrors.forEach(err => {
                errorDetails += `第${err.lineNumber}行(${err.error}); `;
              });
              
              if (invalidLines.length > 3) {
                errorDetails += `还有${invalidLines.length - 3}个错误...`;
              }
              
              showError(errorDetails);
            }
            
            uploadStatus.textContent = statusText;
            uploadStatus.className = validItems.length > 0 
              ? 'mt-4 text-green-500' 
              : 'mt-4 text-red-500';
            
            showToast(`已导入 ${validItems.length} 个有效邮箱信息`);
          } catch (error) {
            console.error('处理文件内容失败:', error);
            uploadStatus.textContent = '解析文件内容失败';
            uploadStatus.className = 'mt-4 text-red-500';
            showError('解析文件内容时发生错误: ' + error.message);
          }
        };
        
        reader.onerror = () => {
          console.error('文件读取错误:', reader.error);
          uploadStatus.textContent = '文件读取失败，请重试';
          uploadStatus.className = 'mt-4 text-red-500';
          showError('文件读取失败: ' + reader.error.message);
        };
        
        reader.readAsText(file, 'UTF-8');
      } catch (error) {
        console.error('处理文件上传失败:', error);
        showError('处理文件时发生错误: ' + error.message);
      }
    });
    
    // 清空列表
    clearBtn.addEventListener('click', () => {
      try {
        fileUpload.value = '';
        fileInfo.classList.add('hidden');
        uploadStatus.classList.add('hidden');
        clearError();
        renderEmailList([]);
        showToast('已清空邮箱列表');
      } catch (error) {
        console.error('清空列表失败:', error);
        showToast('清空列表时发生错误', true);
      }
    });
    
    // 拖放功能
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      document.body.addEventListener(eventName, preventDefaults, false);
    });
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    ['dragenter', 'dragover'].forEach(eventName => {
      document.body.addEventListener(eventName, highlight, false);
    });
    
    ['dragleave', 'drop'].forEach(eventName => {
      document.body.addEventListener(eventName, unhighlight, false);
    });
    
    function highlight() {
      document.body.classList.add('bg-primary/5');
    }
    
    function unhighlight() {
      document.body.classList.remove('bg-primary/5');
    }
    
    document.body.addEventListener('drop', handleDrop, false);
    
    function handleDrop(e) {
      try {
        clearError();
        const dt = e.dataTransfer;
        const files = dt.files;
        
        if (!files || files.length === 0) {
          showError('未检测到文件');
          return;
        }
        
        const file = files[0];
        
        if (!file.name.endsWith('.txt')) {
          showError('请拖放TXT格式的文件');
          return;
        }
        
        const dataTransfer = new DataTransfer();
        dataTransfer.items.add(file);
        fileUpload.files = dataTransfer.files;
        
        const event = new Event('change', { bubbles: true });
        fileUpload.dispatchEvent(event);
      } catch (error) {
        console.error('处理拖放文件失败:', error);
        showError('处理拖放文件时发生错误: ' + error.message);
      }
    }
    
    // 初始化检查
    function checkBrowserSupport() {
      if (!window.FileReader) {
        showToast('您的浏览器不支持文件读取功能，请使用现代浏览器', true);
        return false;
      }
      
      if (navigator.userAgent.includes('Chrome') && window.location.protocol !== 'https:') {
        showToast('注意：在非HTTPS环境下，复制功能可能受限', true);
      }
      
      return true;
    }
    
    window.addEventListener('DOMContentLoaded', () => {
      checkBrowserSupport();
    });
  </script>
</body>
</html>